graph TD
    SCHEDULER["â° Daily Scheduler<br/>Runs Every Day"]
    
    SCHEDULER --> FETCH["Fetch Support Engineer<br/>Unread Emails"]
    
    FETCH --> LOOP["For Each Email"]
    
    LOOP --> EXTRACT["Extract Email Content<br/>- Subject<br/>- Body<br/>- Metadata"]
    
    EXTRACT --> LLM["ğŸ§  LLM Processing<br/>- Analyze Intent<br/>- Extract Keywords<br/>- Identify Category"]
    
    LLM --> SEARCH["ğŸ” Azure AI Search<br/>+ Vector DB<br/>Query Related Emails"]
    
    SEARCH --> RETRIEVE["Retrieve Similar<br/>Historical Emails<br/>- Solutions<br/>- Patterns<br/>- Best Practices"]
    
    RETRIEVE --> GENERATE["Generate Content<br/>by LLM<br/>- Suggested Response<br/>- Relevant Context<br/>- Action Items"]
    
    GENERATE --> TITLE_BOX["ğŸ“‹ Title Box<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/><b>Generated Title</b><br/>Tag: Category<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Summary Line 1<br/>Summary Line 2<br/>Suggested Response<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"]
    
    TITLE_BOX --> DECISION{"Support Engineer<br/>Decision"}
    
    DECISION -->|Accept| ACCEPT["âœ… Accept"]
    DECISION -->|Reject| REJECT["âŒ Reject"]
    DECISION -->|Review| REVIEW["ğŸ‘ï¸ Manual Review"]
    DECISION -->|Error| ERROR["âš ï¸ System Error"]
    
    ACCEPT --> PROCESS["Send Response<br/>& Update Status"]
    REJECT --> REASON["Log Reason<br/>for Rejection"]
    REVIEW --> REASON
    ERROR --> REASON
    
    PROCESS --> STORE["Store in Logs<br/>& Analytics"]
    REASON --> STORE
    
    STORE --> DASHBOARD["ğŸ“Š Weekly Dashboard<br/>- Approved Count<br/>- Rejected Count<br/>- Manual Review Count<br/>- Error Count"]
    
    DASHBOARD --> DONE["âœ“ Done"]